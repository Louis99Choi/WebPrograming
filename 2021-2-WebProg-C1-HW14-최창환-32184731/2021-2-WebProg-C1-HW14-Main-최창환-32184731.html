<!--Open Challenge 13 Assignment-->
<!-- 2021-2-WebProg-C1-HW14-Main-최창환-32184731 By Choi / 32184731@dankook.ac.kr -->
<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>2021-2-WebProg-C1-HW14-Main-최창환-32184731</title>
</head>

<body onload="load()">
	<h3>오디오 리스트 연속 재생</h3>
	<hr>
	<p>
		처음 play 버튼을 누르면 리스트에 있는 곡이 연속하여 자동 재생 됩니다. 마우스로 다른 곡을 선택하면 곡이 바뀝니다. next 버튼을 누르면 다음 곡으로 넘어갑니다.
	</p>
	<hr>
	<audio id="audio" controls>
	</audio>
	<br>
	<br>
	<select id="select" size="1" onchange="play()">
		<option value="https://docs.google.com/uc?export=open&id=1v4fdy9TqIFrn-ZdOJ9Dachf5dBCwHrdW">BEO 비오 - 리무진 Feat MINO Prod GRAY </option>
		<option value="https://docs.google.com/uc?export=open&id=18_j23a--4R24ZLeeEahilMeEERa03Ey0">sokodomo - 회전목마 Feat ZionT 원슈타인 Prod Slom</option>
		<option value="https://docs.google.com/uc?export=open&id=1v4fdy9TqIFrn-ZdOJ9Dachf5dBCwHrdW">베이식 Basick - 만남은 쉽고 이별은 어려워 Feat Leellamarz Prod TOIL</option>
		<option value="https://docs.google.com/uc?export=open&id=17EBJYbhEJVzFdrrwDWpiqARBQ7AT9lrl">PATEKO 파테코 - Rainy day Feat ASH ISLAND</option>
		<option value="https://docs.google.com/uc?export=open&id=18_j23a--4R24ZLeeEahilMeEERa03Ey0">쿤타 - 깐부 Feat 염따 ASH ISLAND Prod TOIL</option>
	</select>

	<input type="button" value="play" onclick="play()">
	<input type="button" value="next" onclick="next()">
	<br>
	<br>
	<div id="songName">현재 연주되는 곡명이 보입니다.</div>

	<script>
		var div=document.getElementById("songName");
		var audio=document.getElementById("audio");
		var select=document.getElementById("select");

		function play(){
			var selectedSong=select.options[select.selectedIndex].value;
			audio.src=selectedSong;
			audio.load();
			audio.play();
			div.innerHTML="\""+select.options[select.selectedIndex].innerHTML+"\" 를 재생합니다.";
		}
		function next(){
			select.selectedIndex=(select.selectedIndex+1)%(select.length);
			play();
		}
		audio.onended=function(e){
			next();
		}

	</script>
</body>